{"ast":null,"code":"var _jsxFileName = \"/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/src/components/CardCotacoes/index.js\";\nimport React, { useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport CotacaoDiaria from \"../CardCotacaoDiaria/index\";\nimport styles from \"./styles\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n\n  return number;\n}\n\nfunction url(qtdDias) {\n  var date = new Date();\n  var listLastDays = qtdDias;\n  var end_date = date.getFullYear() + \"\\n    -\" + addZero(date.getMonth() + 1) + \"\\n    -\" + addZero(date.getDate());\n  date.setDate(date.getDate() - listLastDays);\n  var start_date = date.getFullYear() + \"\\n    -\" + addZero(date.getMonth() + 1) + \"\\n    -\" + addZero(date.getDate());\n  var urlSearchCoins = \"https://api.coindesk.com/v1/bpi/historical/close.json?start=\" + start_date + \"&end=\" + end_date;\n  return urlSearchCoins;\n}\n\nexport default function CardCotacoes() {\n  var _this = this;\n\n  var _useFetch = useFetch(url(5)),\n      data = _useFetch.data;\n\n  if (data) {\n    var queryCoinsList = Object.keys(data).map(function (key) {\n      return {\n        data: key,\n        valor: data[key]\n      };\n    });\n    var coinsTrans = queryCoinsList;\n    return React.createElement(ScrollView, {\n      style: styles.headerCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }\n    }, React.createElement(FlatList, {\n      data: coinsTrans,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(CotacaoDiaria, {\n          valor: item.valor,\n          data: item.data,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 18\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }));\n  }\n}","map":{"version":3,"sources":["/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/src/components/CardCotacoes/index.js"],"names":["React","useState","CotacaoDiaria","styles","useFetch","addZero","number","url","qtdDias","date","Date","listLastDays","end_date","getFullYear","getMonth","getDate","setDate","start_date","urlSearchCoins","CardCotacoes","data","queryCoinsList","Object","keys","map","key","valor","coinsTrans","headerCard","item"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;AAEA,OAAOC,aAAP;AACA,OAAOC,MAAP;AACA,SAASC,QAAT;;AAIA,SAASC,OAAT,CAAiBC,MAAjB,EAAyB;AACvB,MAAIA,MAAM,IAAI,CAAd,EAAiB;AACf,WAAO,MAAMA,MAAb;AACD;;AACD,SAAOA,MAAP;AACD;;AAGD,SAASC,GAAT,CAAaC,OAAb,EAAsB;AACpB,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,MAAMC,YAAY,GAAGH,OAArB;AACA,MAAMI,QAAQ,GACTH,IAAI,CAACI,WAAL,EADS,eAETR,OAAO,CAACI,IAAI,CAACK,QAAL,KAAkB,CAAnB,CAFE,eAGTT,OAAO,CAACI,IAAI,CAACM,OAAL,EAAD,CAHZ;AAIAN,EAAAA,IAAI,CAACO,OAAL,CAAaP,IAAI,CAACM,OAAL,KAAiBJ,YAA9B;AACA,MAAMM,UAAU,GACXR,IAAI,CAACI,WAAL,EADW,eAEXR,OAAO,CAACI,IAAI,CAACK,QAAL,KAAkB,CAAnB,CAFI,eAGXT,OAAO,CAACI,IAAI,CAACM,OAAL,EAAD,CAHZ;AAMA,MAAMG,cAAc,oEAAkED,UAAlE,aAAoFL,QAAxG;AACA,SAAOM,cAAP;AACD;;AAGD,eAAe,SAASC,YAAT,GAAwB;AAAA;;AAAA,kBAGpBf,QAAQ,CAACG,GAAG,CAAC,CAAD,CAAJ,CAHY;AAAA,MAG7Ba,IAH6B,aAG7BA,IAH6B;;AAIrC,MAAIA,IAAJ,EAAU;AACR,QAAMC,cAAc,GAAGC,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,GAAlB,CAAsB,UAACC,GAAD,EAAS;AACpD,aAAO;AACLL,QAAAA,IAAI,EAAEK,GADD;AAELC,QAAAA,KAAK,EAAEN,IAAI,CAACK,GAAD;AAFN,OAAP;AAID,KALsB,CAAvB;AAMA,QAAME,UAAU,GAAGN,cAAnB;AAEF,WACE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAElB,MAAM,CAACyB,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAED,UADR;AAEE,MAAA,UAAU,EAAE,0BAAc;AAAA,YAAXE,IAAW,QAAXA,IAAW;AACxB,eAAO,oBAAC,aAAD;AAAe,UAAA,KAAK,EAAEA,IAAI,CAACH,KAA3B;AAAkC,UAAA,IAAI,EAAEG,IAAI,CAACT,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAaD;AAGA","sourcesContent":["import React, {useState} from \"react\";\nimport { ScrollView, FlatList } from \"react-native\";\nimport CotacaoDiaria from \"../CardCotacaoDiaria/index\";\nimport styles from \"./styles\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\n\n//insert zero to the left\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n  return number;\n}\n\n//Date formatting to get API\nfunction url(qtdDias) {\n  const date = new Date();\n  const listLastDays = qtdDias;\n  const end_date = \n    `${date.getFullYear()}\n    -${addZero(date.getMonth() + 1)}\n    -${addZero(date.getDate())}`;\n  date.setDate(date.getDate() - listLastDays);\n  const start_date = \n    `${date.getFullYear()}\n    -${addZero(date.getMonth() + 1)}\n    -${addZero(date.getDate())}`;\n\n  //URL  GET API\n  const urlSearchCoins = `https://api.coindesk.com/v1/bpi/historical/close.json?start=${start_date}&end=${end_date}`;\n  return urlSearchCoins;\n}\n\n\nexport default function CardCotacoes() {\n\n  \n  const { data } = useFetch(url(5));\n  if (data) {\n    const queryCoinsList = Object.keys(data).map((key) => {\n      return {\n        data: key,\n        valor: data[key],\n      };\n    });\n    const coinsTrans = queryCoinsList\n\n  return (\n    <ScrollView style={styles.headerCard}>\n      \n      <FlatList\n        data={coinsTrans}\n        renderItem={({ item }) => {\n          return <CotacaoDiaria valor={item.valor} data={item.data} />;\n        }}\n      />\n     \n    </ScrollView>\n     \n  );\n}\n\n    \n}\n      \n"]},"metadata":{},"sourceType":"module"}