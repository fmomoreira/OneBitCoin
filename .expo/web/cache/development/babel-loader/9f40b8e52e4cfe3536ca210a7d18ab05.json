{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/App.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport CardCotacoes from \"./src/components/CardCotacoes\";\nimport Grafico from \"./src/components/Grafico\";\nimport Titulo from \"./src/components/Titulo\";\nimport PrecoAtual from \"./src/components/ValorAtual\";\n\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n\n  return number;\n}\n\nfunction url(qtdDias) {\n  var date = new Date();\n  var listLastDays = qtdDias;\n  var end_date = date.getFullYear() + \"-\" + addZero(date.getMonth() + 1) + \"-\" + addZero(date.getDate());\n  date.setDate(date.getDate() - listLastDays);\n  var start_date = date.getFullYear() + \"-\" + addZero(date.getMonth() + 1) + \"-\" + addZero(date.getDate());\n  var urlSearchCoins = \"https://api.coindesk.com/v1/bpi/historical/close.json?start=\" + start_date + \"&end=\" + end_date;\n  return urlSearchCoins;\n}\n\nfunction getListCoins(url) {\n  var response, joao, dados, queryCoinsList, data;\n  return _regeneratorRuntime.async(function getListCoins$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 2:\n          response = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 5:\n          joao = _context.sent;\n          dados = joao.bpi;\n          queryCoinsList = Object.keys(dados).map(function (key) {\n            return {\n              data: key.split(\"-\").reverse().join(\"/\"),\n              valor: dados[key]\n            };\n          });\n          data = queryCoinsList.reverse();\n          return _context.abrupt(\"return\", data);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction getPriceCoins(url) {\n  var responseG, joaoG, dadosG, queryCoinsListG, dataG;\n  return _regeneratorRuntime.async(function getPriceCoins$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 2:\n          responseG = _context2.sent;\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(responseG.json());\n\n        case 5:\n          joaoG = _context2.sent;\n          dadosG = joaoG.bpi;\n          queryCoinsListG = Object.keys(dadosG).map(function (key) {\n            return dadosG[key];\n          });\n          dataG = queryCoinsListG;\n          return _context2.abrupt(\"return\", dataG);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport default function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      coinsList = _useState2[0],\n      setcoinsList = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      coinsGrafichList = _useState4[0],\n      setcoinsGrafichList = _useState4[1];\n\n  var _useState5 = useState(7),\n      _useState6 = _slicedToArray(_useState5, 2),\n      days = _useState6[0],\n      setdays = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      updateData = _useState8[0],\n      setupdateData = _useState8[1];\n\n  function e(number) {\n    setdays(number);\n    setupdateData(true);\n  }\n\n  useEffect(function () {\n    getListCoins(url(days)).then(function (data) {\n      setcoinsList(data);\n    });\n    getPriceCoins(url(days)).then(function (dataG) {\n      setcoinsGrafichList(dataG);\n    });\n\n    if (updateData) {\n      setupdateData(false);\n    }\n  }, [updateData]);\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, React.createElement(Titulo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), React.createElement(PrecoAtual, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), React.createElement(Grafico, {\n    infoDataGraphic: coinsGrafichList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), React.createElement(CardCotacoes, {\n    filterDay: e,\n    listTransactions: coinsList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000000\",\n    alignItems: \"center\",\n    paddingTop: Platform.OS === 'android' ? 60 : 0\n  }\n});","map":{"version":3,"sources":["/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/App.js"],"names":["React","useState","useEffect","CardCotacoes","Grafico","Titulo","PrecoAtual","addZero","number","url","qtdDias","date","Date","listLastDays","end_date","getFullYear","getMonth","getDate","setDate","start_date","urlSearchCoins","getListCoins","fetch","response","json","joao","dados","bpi","queryCoinsList","Object","keys","map","key","data","split","reverse","join","valor","getPriceCoins","responseG","joaoG","dadosG","queryCoinsListG","dataG","App","coinsList","setcoinsList","coinsGrafichList","setcoinsGrafichList","days","setdays","updateData","setupdateData","e","then","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","paddingTop","Platform","OS"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StyleSheet, SafeAreaView } from \"react-native\";\nimport CardCotacoes from \"./src/components/CardCotacoes\";\nimport Grafico from \"./src/components/Grafico\";\nimport Titulo from \"./src/components/Titulo\";\nimport PrecoAtual from \"./src/components/ValorAtual\";\n\n//insert zero to the left\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n  return number;\n}\n\n//Date formatting to get API\nfunction url(qtdDias) {\n  const date = new Date();\n  const listLastDays = qtdDias;\n  const end_date = `${date.getFullYear()}-${addZero(\n    date.getMonth() + 1\n  )}-${addZero(date.getDate())}`;\n  date.setDate(date.getDate() - listLastDays);\n  const start_date = `${date.getFullYear()}-${addZero(\n    date.getMonth() + 1\n  )}-${addZero(date.getDate())}`;\n\n  //URL  GET API\n  const urlSearchCoins = `https://api.coindesk.com/v1/bpi/historical/close.json?start=${start_date}&end=${end_date}`;\n  return urlSearchCoins;\n}\n\nasync function getListCoins(url) {\n  let response = await fetch(url);\n  let joao = await response.json();\n\n  let dados = joao.bpi;\n  const queryCoinsList = Object.keys(dados).map((key) => {\n    return {\n      data: key.split(\"-\").reverse().join(\"/\"),\n      valor: dados[key],\n    };\n  });\n  let data = queryCoinsList.reverse();\n  return data;\n}\n\nasync function getPriceCoins(url) {\n  let responseG = await fetch(url);\n  let joaoG = await responseG.json();\n  let dadosG = joaoG.bpi;\n  const queryCoinsListG = Object.keys(dadosG).map((key) => {\n    return dadosG[key];\n  });\n  let dataG = queryCoinsListG;\n  return dataG;\n}\n\n\n\nexport default function App() {\n \n  const [coinsList, setcoinsList] = useState([]);\n  const [coinsGrafichList, setcoinsGrafichList] = useState([]);\n  const [days, setdays] = useState(7);\n  const [updateData, setupdateData] = useState(true)\n\n  function e(number) {\n    setdays(number);\n    setupdateData(true)\n    \n  }\n  \n \n  useEffect(() => {\n    getListCoins(url(days)).then((data) => {\n      setcoinsList(data);\n    });\n    getPriceCoins(url(days)).then((dataG) => {\n      setcoinsGrafichList(dataG);\n    });\n    if(updateData){\n      setupdateData(false)\n     }\n  }, [updateData]);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Titulo />\n      <PrecoAtual />\n      <Grafico infoDataGraphic={coinsGrafichList} />\n      <CardCotacoes filterDay={e} listTransactions={coinsList} />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000000\",\n    alignItems: \"center\",\n    paddingTop: Platform.OS === 'android' ? 60: 0,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}