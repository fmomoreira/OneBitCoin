{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/src/components/CardCotacoes/index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport CotacaoDiaria from \"../CardCotacaoDiaria/index\";\nimport styles from \"./styles\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n\n  return number;\n}\n\nfunction url(qtdDias) {\n  var date = new Date();\n  var listLastDays = qtdDias;\n  var end_date = date.getFullYear() + \"\\n    -\" + addZero(date.getMonth() + 1) + \"\\n    -\" + addZero(date.getDate());\n  date.setDate(date.getDate() - listLastDays);\n  var start_date = date.getFullYear() + \"\\n    -\" + addZero(date.getMonth() + 1) + \"\\n    -\" + addZero(date.getDate());\n  var urlSearchCoins = \"https://api.coindesk.com/v1/bpi/historical/close.json?start=\" + start_date + \"&end=\" + end_date;\n  return urlSearchCoins;\n}\n\nvar datalist = url(10);\nconsole.log(datalist);\n\nfunction getListCoins() {\n  var response, data, informacoes;\n  return _regeneratorRuntime.async(function getListCoins$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(datalist));\n\n        case 2:\n          response = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 5:\n          data = _context.sent;\n          informacoes = data.bpi;\n          return _context.abrupt(\"return\", informacoes);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport default function CardCotacoes() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      coinsList = _useState2[0],\n      setcoinsList = _useState2[1];\n\n  useEffect(function () {\n    console.log(informacoes);\n    getListCoins().then(function (data) {\n      setcoinsList(data);\n    });\n  }, []);\n  return React.createElement(ScrollView, {\n    style: styles.headerCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    data: coinsList,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(CotacaoDiaria, {\n        valor: item.valor,\n        data: item.data,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 18\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/fmomoreira/Documentos/Onebitcode/OneBitCoin/src/components/CardCotacoes/index.js"],"names":["React","useState","useEffect","CotacaoDiaria","styles","useFetch","addZero","number","url","qtdDias","date","Date","listLastDays","end_date","getFullYear","getMonth","getDate","setDate","start_date","urlSearchCoins","datalist","console","log","getListCoins","fetch","response","json","data","informacoes","bpi","CardCotacoes","coinsList","setcoinsList","then","headerCard","item","valor"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;AAEA,OAAOC,aAAP;AACA,OAAOC,MAAP;AACA,SAASC,QAAT;;AAIA,SAASC,OAAT,CAAiBC,MAAjB,EAAyB;AACvB,MAAIA,MAAM,IAAI,CAAd,EAAiB;AACf,WAAO,MAAMA,MAAb;AACD;;AACD,SAAOA,MAAP;AACD;;AAGD,SAASC,GAAT,CAAaC,OAAb,EAAsB;AACpB,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,MAAMC,YAAY,GAAGH,OAArB;AACA,MAAMI,QAAQ,GACTH,IAAI,CAACI,WAAL,EADS,eAETR,OAAO,CAACI,IAAI,CAACK,QAAL,KAAkB,CAAnB,CAFE,eAGTT,OAAO,CAACI,IAAI,CAACM,OAAL,EAAD,CAHZ;AAIAN,EAAAA,IAAI,CAACO,OAAL,CAAaP,IAAI,CAACM,OAAL,KAAiBJ,YAA9B;AACA,MAAMM,UAAU,GACXR,IAAI,CAACI,WAAL,EADW,eAEXR,OAAO,CAACI,IAAI,CAACK,QAAL,KAAkB,CAAnB,CAFI,eAGXT,OAAO,CAACI,IAAI,CAACM,OAAL,EAAD,CAHZ;AAMA,MAAMG,cAAc,oEAAkED,UAAlE,aAAoFL,QAAxG;AACA,SAAOM,cAAP;AACD;;AAED,IAAIC,QAAQ,GAAGZ,GAAG,CAAC,EAAD,CAAlB;AACAa,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,SAAeG,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACuBC,KAAK,CAACJ,QAAD,CAD5B;;AAAA;AACMK,UAAAA,QADN;AAAA;AAAA,2CAEoBA,QAAQ,CAACC,IAAT,EAFpB;;AAAA;AAEMC,UAAAA,IAFN;AAGMC,UAAAA,WAHN,GAGsBD,IAAI,CAACE,GAH3B;AAAA,2CAISD,WAJT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,eAAe,SAASE,YAAT,GAAwB;AAAA;;AAAA,kBAEH7B,QAAQ,CAAC,EAAD,CAFL;AAAA;AAAA,MAE9B8B,SAF8B;AAAA,MAEnBC,YAFmB;;AAIrC9B,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,OAAO,CAACC,GAAR,CAAYM,WAAZ;AACAL,IAAAA,YAAY,GAAGU,IAAf,CAAqB,UAAAN,IAAI,EAAG;AAC1BK,MAAAA,YAAY,CAACL,IAAD,CAAZ;AAEA,KAHF;AAID,GANQ,EAMN,EANM,CAAT;AAWA,SACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEvB,MAAM,CAAC8B,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EACFH,SAFJ;AAIE,IAAA,UAAU,EAAE,0BAAc;AAAA,UAAXI,IAAW,QAAXA,IAAW;AACxB,aAAO,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAEA,IAAI,CAACC,KAA3B;AAAkC,QAAA,IAAI,EAAED,IAAI,CAACR,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAeD","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { ScrollView, FlatList } from \"react-native\";\nimport CotacaoDiaria from \"../CardCotacaoDiaria/index\";\nimport styles from \"./styles\";\nimport { useFetch } from \"../../hooks/useFetch\";\n\n\n//insert zero to the left\nfunction addZero(number) {\n  if (number <= 9) {\n    return \"0\" + number;\n  }\n  return number;\n}\n\n//Date formatting to get API\nfunction url(qtdDias) {\n  const date = new Date();\n  const listLastDays = qtdDias;\n  const end_date = \n    `${date.getFullYear()}\n    -${addZero(date.getMonth() + 1)}\n    -${addZero(date.getDate())}`;\n  date.setDate(date.getDate() - listLastDays);\n  const start_date = \n    `${date.getFullYear()}\n    -${addZero(date.getMonth() + 1)}\n    -${addZero(date.getDate())}`;\n\n  //URL  GET API\n  const urlSearchCoins = `https://api.coindesk.com/v1/bpi/historical/close.json?start=${start_date}&end=${end_date}`;\n  return urlSearchCoins;\n}\n\nlet datalist = url(10)\nconsole.log(datalist)\nasync function getListCoins(){\n  let response = await fetch(datalist)\n  let data =  await response.json()\n  let informacoes  =  data.bpi \n  return informacoes\n\n}\n\n\n\n\nexport default function CardCotacoes() {\n\n  const [coinsList, setcoinsList] = useState([])\n  \n  useEffect(() => {\n    console.log(informacoes)\n    getListCoins().then (data =>{\n      setcoinsList(data)\n      \n     })\n  }, [])\n  \n  \n \n\n  return (\n    <ScrollView style={styles.headerCard}>\n      \n      <FlatList\n        data={\n          coinsList\n        }\n        renderItem={({ item }) => {\n          return <CotacaoDiaria valor={item.valor} data={item.data} />;\n        }}\n      />\n     \n    </ScrollView>\n     \n  );\n}\n"]},"metadata":{},"sourceType":"module"}